1)
install.packages('rvest')
library('rvest')

2)
webdata<-read_html("http://www.imdb.com/search/title?count=100&release_date=2017,2017&title_type=feature")

3)
webmovie <- read_html(Url)
> webmovie
{html_document}
<html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml">
[1] <head>\n<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n<script type="t ...
[2] <body id="styleguide-v2" class="fixed">\n            <img height="1" width="1" style="displa ...


4)
 rank_html <- html_nodes(webmovie, '.text-primary')
> rank_html
{xml_nodeset (100)}
 [1] <span class="lister-item-index unbold text-primary">1.</span>
 [2] <span class="lister-item-index unbold text-primary">2.</span>
 [3] <span class="lister-item-index unbold text-primary">3.</span>
 [4] <span class="lister-item-index unbold text-primary">4.</span>
 [5] <span class="lister-item-index unbold text-primary">5.</span>
 [6] <span class="lister-item-index unbold text-primary">6.</span>
 [7] <span class="lister-item-index unbold text-primary">7.</span>
 [8] <span class="lister-item-index unbold text-primary">8.</span>
 [9] <span class="lister-item-index unbold text-primary">9.</span>
[10] <span class="lister-item-index unbold text-primary">10.</span>
[11] <span class="lister-item-index unbold text-primary">11.</span>
[12] <span class="lister-item-index unbold text-primary">12.</span>
[13] <span class="lister-item-index unbold text-primary">13.</span>
[14] <span class="lister-item-index unbold text-primary">14.</span>
[15] <span class="lister-item-index unbold text-primary">15.</span>
[16] <span class="lister-item-index unbold text-primary">16.</span>
[17] <span class="lister-item-index unbold text-primary">17.</span>
[18] <span class="lister-item-index unbold text-primary">18.</span>
[19] <span class="lister-item-index unbold text-primary">19.</span>
[20] <span class="lister-item-index unbold text-primary">20.</span>
...
> 

5)
> rank_data <- html_text(rank_html)
> rank_data
  [1] "1."   "2."   "3."   "4."   "5."   "6."   "7."   "8."   "9."   "10."  "11."  "12."  "13." 
 [14] "14."  "15."  "16."  "17."  "18."  "19."  "20."  "21."  "22."  "23."  "24."  "25."  "26." 
 [27] "27."  "28."  "29."  "30."  "31."  "32."  "33."  "34."  "35."  "36."  "37."  "38."  "39." 
 [40] "40."  "41."  "42."  "43."  "44."  "45."  "46."  "47."  "48."  "49."  "50."  "51."  "52." 
 [53] "53."  "54."  "55."  "56."  "57."  "58."  "59."  "60."  "61."  "62."  "63."  "64."  "65." 
 [66] "66."  "67."  "68."  "69."  "70."  "71."  "72."  "73."  "74."  "75."  "76."  "77."  "78." 
 [79] "79."  "80."  "81."  "82."  "83."  "84."  "85."  "86."  "87."  "88."  "89."  "90."  "91." 
 [92] "92."  "93."  "94."  "95."  "96."  "97."  "98."  "99."  "100."
 
 6)
 
 rank_data <- as.numeric(rank_data)
> head(rank_data)
[1] 1 2 3 4 5 6

7)
title_html <-html_nodes(webmovie, ".lister-item-header a")

8)

title_data <-html_text(title_html)
head(title_data)

[1] "Пітьма"                 
[2] "Озарк"                  
[3] "Оповідь служниці"       
[4] "Паперовий будинок"      
[5] "Зоряний шлях: Дискавері"
[6] "Britannia"


9)
runtime_data <- html_text(runtime_html)
> head(runtime_data)
[1] "60 min" "41 min" "70 min" "60 min" "60 min" "60 min"

10)
> runtime_data <- substr(runtime_data, 1, 3)
> runtime_data <- as.numeric(runtime_data)
> head(runtime_data)
[1] 60 41 70 60 60 60


_______________________________

Create dataframe

movies<-data.frame(Rank = rank_data, Title = title_data, Runtime = runtime_data)

________
1. Output first 6 movies

head(movies, n=6)

Rank                   Title Runtime
1    1                  Пітьма      60
2    2                   Озарк      60
3    3        Оповідь служниці      60
4    4       Паперовий будинок      70
5    5 Зоряний шлях: Дискавері      60
6    6               Britannia      60

2. movies with runtime more then 120 min

morethan120 <-subset(movies, Runtime > 120)
morethan120

Rank                                    Title Runtime
9     9             Той, хто біжить по лезу 2049     164
10   10                            Тор: Раґнарок     130
11   11                                     Воно     135
14   14                     Красуня і Чудовисько     129
28   28                   Назви мене своїм ім'ям     132
35   35 Пірати Карибського моря: Помста Салазара     129
36   36                      Вартові Галактики 2     136
38   38          Людина-павук: Повернення додому     133
39   39                  Kingsman: Золоте кільце     141
48   48                          Логан: Росомаха     137
49   49                               Диво-жінка     141
53   53                               Форма води     123
54   54                           Чужий: Заповіт     122
57   57  Зоряні війни: Епізод 8 - Останні Джедаї     152
59   59                               Джон Вік 2     122
60   60                                Гра Моллі     140
63   63                           Примарна нитка     130
68   68                Вбивство священного оленя     121
72   72               Король Артур: Легенда меча     126
82   82           Валеріан і місто тисячі планет     136
83   83             Трансформери: Останній лицар     154
84   84                                    Мати!     121


ИЛИ
subset(movies$Title,movies$Runtime>120)


3. № movies with runtime less then 100 min
nrow(subset(movies, Runtime <100))
[1] 53
